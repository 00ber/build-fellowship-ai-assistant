---
phase: 02-workshop-2-materials
plan: 03
type: execute
wave: 1
depends_on: []
files_modified:
  - notebooks/utils/__init__.py
  - notebooks/utils/display.py
  - notebooks/workshop_02_prompt_engineering.ipynb
autonomous: true
requirements: [NOTE-01, NOTE-03]

must_haves:
  truths:
    - "Shared display utilities module exists and can be imported from any notebook via 'from utils.display import ...'"
    - "Workshop 2 notebook has consistent visual hierarchy: Part headers as H1, section headers as H2, subsection headers as H3"
    - "Exercise solutions are hidden behind collapsible HTML details elements — students don't see answers while scrolling"
    - "Code cells use consistent variable names, f-string formatting, and standard print separators"
    - "Instructor can walk through the notebook content in 35-40 minutes during live lecture"
  artifacts:
    - path: "notebooks/utils/display.py"
      provides: "Shared display utilities using IPython.display for clean Jupyter output"
      min_lines: 30
    - path: "notebooks/utils/__init__.py"
      provides: "Package init for utils module"
    - path: "notebooks/workshop_02_prompt_engineering.ipynb"
      provides: "Revamped Workshop 2 notebook with consistent formatting and hidden solutions"
  key_links:
    - from: "notebooks/workshop_02_prompt_engineering.ipynb"
      to: "notebooks/utils/display.py"
      via: "Python import in setup cell"
      pattern: "from utils.display import"
---

<objective>
Create shared Python display utilities and revamp the Workshop 2 notebook for visual consistency, clean code style, and hidden exercise solutions. This sets the quality baseline for all subsequent workshop notebooks.

Purpose: The notebook is the primary teaching vehicle for Workshop 2 (35-40 minutes of the 60-minute session). Students follow along during live lecture and review independently afterward. The content is strong — this plan delivers the visual polish that makes it professional and prevents accidental solution exposure.

Output: Shared display utilities module + polished Workshop 2 notebook.
</objective>

<execution_context>
@/Users/karkisushant/.claude/get-shit-done/workflows/execute-plan.md
@/Users/karkisushant/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/02-workshop-2-materials/02-RESEARCH.md
@.planning/phases/02-workshop-2-materials/02-CONTEXT.md

# The notebook to revamp:
@notebooks/workshop_02_prompt_engineering.ipynb
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create shared Python display utilities module</name>
  <files>
    notebooks/utils/__init__.py
    notebooks/utils/display.py
  </files>
  <action>
    **Step 1 — Create package structure:**
    Create `notebooks/utils/__init__.py` as an empty file (or with a brief module docstring).

    **Step 2 — Create display.py:**
    Create `notebooks/utils/display.py` using IPython.display (zero external dependencies — IPython is always available in Jupyter). Include these utilities:

    ```python
    """
    Shared display utilities for Build Fellowship workshop notebooks.

    Provides consistent, clean output formatting using IPython.display.
    These utilities work in any Jupyter environment without additional dependencies.
    """
    from IPython.display import display, HTML, Markdown


    def heading(title: str, level: int = 2):
        """Display a formatted section heading."""
        display(Markdown(f"{'#' * level} {title}"))


    def output_box(content: str, label: str = "", style: str = "info"):
        """
        Display content in a styled box.

        Args:
            content: The text content to display (supports multi-line)
            label: Optional label shown above the content
            style: One of "info" (blue), "success" (green), "warning" (yellow), "error" (red)
        """
        colors = {
            "info": ("#EFF6FF", "#1D4ED8", "#DBEAFE"),
            "success": ("#F0FDF4", "#15803D", "#DCFCE7"),
            "warning": ("#FFFBEB", "#A16207", "#FEF3C7"),
            "error": ("#FEF2F2", "#B91C1C", "#FEE2E2"),
        }
        bg, text_color, border_color = colors.get(style, colors["info"])
        label_html = f'<div style="font-weight: 600; color: {text_color}; margin-bottom: 4px;">{label}</div>' if label else ''
        display(HTML(f"""
        <div style="background: {bg}; border-left: 4px solid {border_color}; padding: 12px 16px; border-radius: 4px; margin: 8px 0; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;">
            {label_html}
            <pre style="margin: 0; white-space: pre-wrap; font-size: 13px; line-height: 1.5; color: #374151;">{content}</pre>
        </div>
        """))


    def compare_table(rows: list, headers: tuple = ("Technique", "Output")):
        """
        Display a comparison table.

        Args:
            rows: List of tuples (label, value) for each row
            headers: Column header names
        """
        header_html = ''.join(f'<th style="padding: 10px 14px; text-align: left; font-weight: 600; color: #374151;">{h}</th>' for h in headers)
        row_html = ''
        for i, row in enumerate(rows):
            bg = '#F9FAFB' if i % 2 == 0 else '#FFFFFF'
            cells = ''.join(f'<td style="padding: 10px 14px; color: #4B5563;">{cell}</td>' for cell in row)
            row_html += f'<tr style="background: {bg}; border-bottom: 1px solid #E5E7EB;">{cells}</tr>'
        display(HTML(f"""
        <table style="width: 100%; border-collapse: collapse; border: 1px solid #E5E7EB; border-radius: 6px; overflow: hidden; margin: 8px 0;">
            <thead><tr style="background: #F3F4F6; border-bottom: 2px solid #D1D5DB;">{header_html}</tr></thead>
            <tbody>{row_html}</tbody>
        </table>
        """))


    def llm_response(response_text: str, label: str = "LLM Response"):
        """Display an LLM response in a distinctive styled box."""
        output_box(response_text, label=label, style="info")


    def separator(text: str = ""):
        """Display a visual separator, optionally with centered text."""
        if text:
            display(HTML(f'<div style="display: flex; align-items: center; margin: 16px 0;"><hr style="flex: 1; border: none; border-top: 1px solid #D1D5DB;"/><span style="padding: 0 12px; color: #6B7280; font-size: 13px;">{text}</span><hr style="flex: 1; border: none; border-top: 1px solid #D1D5DB;"/></div>'))
        else:
            display(HTML('<hr style="border: none; border-top: 1px solid #D1D5DB; margin: 16px 0;">'))
    ```

    Keep the module minimal — these 6 functions (heading, output_box, compare_table, llm_response, separator) cover the patterns actually used in the notebooks. Do NOT over-engineer with Rich, themes, or configuration. This is a teaching utility, not a library.

    **Important:** The `notebooks/utils/` directory must be importable from notebooks. Since notebooks run with `notebooks/` as the working directory, `from utils.display import output_box` will work directly.
  </action>
  <verify>
    Verify the files exist: `ls notebooks/utils/display.py notebooks/utils/__init__.py`. Open a Python REPL or quick test: `cd /Users/karkisushant/workspace/build-fellowship-ai-assistant/notebooks && python -c "from utils.display import output_box, compare_table, llm_response, heading, separator; print('All imports OK')"`.
  </verify>
  <done>
    Shared display utilities module exists at `notebooks/utils/display.py` with 6 clean functions using IPython.display. Any notebook in the `notebooks/` directory can import via `from utils.display import ...`.
  </done>
</task>

<task type="auto">
  <name>Task 2: Revamp Workshop 2 notebook — formatting, code cleanup, hidden solutions</name>
  <files>
    notebooks/workshop_02_prompt_engineering.ipynb
  </files>
  <action>
    Read the entire notebook (`notebooks/workshop_02_prompt_engineering.ipynb`) and perform a comprehensive visual revamp. The content and teaching flow are strong — do NOT change the teaching progression or examples. Only change formatting, code style, and solution visibility.

    **1. Add setup cell at top:**
    Add a code cell near the top (after the title markdown cell) that:
    - Imports the display utilities: `from utils.display import output_box, compare_table, llm_response, heading, separator`
    - Includes the existing OpenAI client setup (already in the notebook)
    - Add a brief comment: `# Display utilities for clean notebook formatting`

    **2. Consistent markdown headers throughout:**
    Apply this hierarchy consistently across ALL markdown cells:
    - `# Workshop 2: Prompt Engineering` (notebook title — only one H1)
    - `## Part 1: Fundamental Prompting Techniques` / `## Part 2: Beyond Text Generation` / `## Part 3: Practice Exercises` (part headers)
    - `### 1. Zero-Shot Prompting` / `### 2. One-Shot Prompting` etc. (section headers within parts)
    - `#### Key Insight` or `> **Key Insight:** ...` for callout boxes (use blockquotes for emphasis)
    - Remove inconsistent emoji usage — either use them consistently or remove them entirely. Recommendation: remove emoji from headers, keep only where genuinely helpful (e.g., warning callouts).

    **3. Code cell cleanup:**
    For ALL code cells:
    - Use consistent `response` variable name for LLM outputs (not `output`, `result`, or `answer`)
    - Use f-strings consistently (not `.format()` or `%` formatting)
    - Use consistent print separators: `print("=" * 60)` for major separators, `print("-" * 40)` for minor ones, or better yet use the `separator()` utility
    - Add brief comments on non-obvious code (e.g., why temperature=0)
    - Use the `llm_response()` or `output_box()` utilities where they improve readability of LLM outputs — but do NOT force them everywhere. Simple `print(response)` is fine for short outputs. Use `llm_response()` for longer, multi-line LLM outputs where the box formatting helps readability.
    - Ensure the `generate()` helper function at the top has a comment explaining `temperature=0` choice

    **4. Hide exercise solutions:**
    For EACH exercise in Part 3 (there are 3 exercises):
    - Keep the exercise description markdown cell as-is
    - Keep the scaffold code cell with TODO markers as a runnable code cell
    - Convert the solution code cell into a MARKDOWN cell containing:
      ```markdown
      <details>
      <summary><strong>Click to reveal solution</strong></summary>

      ```python
      # Solution code here (copied from the original code cell)
      ...
      ```

      </details>
      ```
    - The solution is now collapsed by default in rendered view
    - Delete the original solution code cell after moving its content

    **5. Remove empty/orphan cells:**
    Delete empty cells at the end of the notebook. Remove any cells that are artifacts of development (empty outputs, test cells).

    **6. Consistent section structure within each technique:**
    Each prompting technique in Part 1 should follow this template:
    ```
    ### N. Technique Name
    **What is it?** Brief description.
    **When to use it:** Practical guidance.
    [code cell with example]
    > **Key Insight:** What to notice about the output.
    ```

    **7. Summary section:**
    Ensure the summary/comparison table at the end of Part 1 uses consistent formatting. Consider using the `compare_table()` utility if it improves readability, but don't force it — a markdown table is fine too.

    **CRITICAL:** Do NOT change the teaching content, examples, or progression. The notebook content is strong (per research). This is a formatting pass only. Do NOT restructure Part 2's "what if" progression — it's pedagogically sound.
  </action>
  <verify>
    Open the notebook in JupyterLab (or verify by reading the .ipynb JSON) and check:
    1. First cell is the title, second cell (or nearby) has the setup imports including `from utils.display import ...`
    2. All Part headers use `## Part N:` format consistently
    3. All section headers within parts use `### N. Section Name` format
    4. No solution code cells are visible — they're all in `<details>` blocks in markdown cells
    5. No empty cells at the end of the notebook
    6. Run a quick lint: search the notebook JSON for inconsistent patterns (e.g., grep for `print("==" *` to verify separator consistency)
  </verify>
  <done>
    Workshop 2 notebook has consistent visual hierarchy (H1 title, H2 parts, H3 sections), clean code cells with consistent variable names and formatting, exercise solutions hidden behind collapsible details elements, display utilities imported and used where they improve readability, and no orphan cells. The teaching content and progression are unchanged.
  </done>
</task>

</tasks>

<verification>
1. `python -c "from utils.display import output_box, compare_table"` succeeds from notebooks/ directory
2. Display utilities module has 6 functions using only IPython.display (no Rich or external deps)
3. Notebook has exactly one H1 (title), H2 for parts, H3 for sections
4. All 3 exercise solutions are in `<details>` blocks (search .ipynb for `<details>`)
5. No empty cells at end of notebook
6. Code cells use consistent `response` variable name and f-string formatting
7. Setup cell near top imports display utilities
8. Teaching content and progression are UNCHANGED from original
</verification>

<success_criteria>
Shared display utilities are importable from any notebook. Workshop 2 notebook has professional visual consistency — clean headers, formatted code, hidden solutions — setting the quality baseline for Workshops 3-6. The content teaches prompt engineering effectively in 35-40 minutes of instructor-led walkthrough.
</success_criteria>

<output>
After completion, create `.planning/phases/02-workshop-2-materials/02-03-SUMMARY.md`
</output>
